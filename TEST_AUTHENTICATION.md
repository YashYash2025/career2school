# ๐งช ุฏููู ุงุฎุชุจุงุฑ Authentication

## ุงูุฎุทูุงุช ููุงุฎุชุจุงุฑ:

### 1๏ธโฃ ุงุฎุชุจุงุฑ ุงููุณุชุฎุฏู ุงููุณุฌู ุฏุฎูู

```bash
# 1. ุดุบู ุงูุณูุฑูุฑ
npm run dev

# 2. ุงูุชุญ ุงููุชุตูุญ ุนูู
http://localhost:3000
```

**ุงูุฎุทูุงุช:**
1. ุงุฐูุจ ูู `/login`
2. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ููุฌูุฏ
3. ุงุฐูุจ ูู `/assessments`
4. ุงุถุบุท ุนูู "Big5 Assessment"
5. ุงุฎุชุฑ ุฃู ูุณุฎุฉ (Middle/High/College)

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุฌุจ ุฃู ูุจุฏุฃ ุงูุชูููู ูุจุงุดุฑุฉ
- โ ูุง ูุทูุจ ููู ุชุณุฌูู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
- โ ูู Console ูุธูุฑ: `โ User authenticated: [email]`

---

### 2๏ธโฃ ุงุฎุชุจุงุฑ ุงููุณุชุฎุฏู ุบูุฑ ุงููุณุฌู

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ูุงูุฐุฉ Incognito/Private
2. ุงุฐูุจ ูุจุงุดุฑุฉ ูู `/assessments/big-five/enhanced?version=college`

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุชู ุชูุฌููู ูู `/login?redirect=/assessments/big-five/enhanced?version=college`
- โ ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ุชุฑุฌุน ูุตูุญุฉ ุงูุชูููู ุชููุงุฆูุงู

---

### 3๏ธโฃ ุงุฎุชุจุงุฑ Session ููุชููุฉ

**ุงูุฎุทูุงุช:**
1. ุณุฌู ุฏุฎูู
2. ุงูุชุญ Developer Tools (F12)
3. ุงุฐูุจ ูู Application โ Local Storage
4. ุงูุณุญ `sb-[project-id]-auth-token`
5. ุญุงูู ุจุฏุก ุชูููู Big5

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุทูุจ ููู ุชุณุฌูู ุงูุฏุฎูู
- โ ูู Console ูุธูุฑ: `โ๏ธ No active session - redirecting to login`

---

### 4๏ธโฃ ุงุฎุชุจุงุฑ Navigation Bar

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. ูุงุญุธ Navigation Bar ูู ุงูุฃุนูู

**ูุจู ุชุณุฌูู ุงูุฏุฎูู:**
- โ ูุธูุฑ ุฒุฑ "ุชุณุฌูู ุงูุฏุฎูู"
- โ ูุง ูุธูุฑ "ููุญุฉ ุงูุชุญูู"

**ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู:**
- โ ูุธูุฑ ุงุณู ุงููุณุชุฎุฏู
- โ ูุธูุฑ "ููุญุฉ ุงูุชุญูู" ูู ุงููุงุฆูุฉ
- โ ุนูุฏ ุงูุถุบุท ุนูู ุงูุงุณูุ ุชุธูุฑ ูุงุฆูุฉ ููุณุฏูุฉ
- โ ูู ุงููุงุฆูุฉ: "๐ ููุญุฉ ุงูุชุญูู" ู "๐ช ุชุณุฌูู ุงูุฎุฑูุฌ"

---

### 5๏ธโฃ ุงุฎุชุจุงุฑ Logout

**ุงูุฎุทูุงุช:**
1. ุณุฌู ุฏุฎูู
2. ุงุถุบุท ุนูู ุงุณูู ูู Navigation
3. ุงุฎุชุฑ "ุชุณุฌูู ุงูุฎุฑูุฌ"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุชู ุชูุฌููู ูู `/login`
- โ ูู Console ูุธูุฑ: `โ Signed out from Supabase`
- โ localStorage ุชู ูุณุญูุง
- โ Navigation ูุธูุฑ "ุชุณุฌูู ุงูุฏุฎูู" ุจุฏู ุงูุงุณู

---

## ๐ Console Messages ุงููุชููุนุฉ:

### ุนูุฏ ุชุญููู ุงูุตูุญุฉ (ูุณุฌู ุฏุฎูู):
```
๐ Session check: { hasSession: true, user: "user@example.com" }
โ User authenticated: user@example.com
โ User authenticated via Supabase: user@example.com
๐ ุฌูุจ ุฃุณุฆูุฉ Big5 ูู: BIG5_60_COLLEGE
โ ุชู ุฌูุจ 60 ุณุคุงู
```

### ุนูุฏ ุชุญููู ุงูุตูุญุฉ (ุบูุฑ ูุณุฌู):
```
๐ Session check: { hasSession: false }
โ๏ธ No active session - redirecting to login
๐ Redirect URL detected: /assessments/big-five/enhanced?version=college
```

### ุนูุฏ ุญูุธ ุงููุชุงุฆุฌ:
```
๐ Session status: Authenticated
๐พ ุญูุธ ูุชุงุฆุฌ Big5...
โ User authenticated: [user-id]
๐ Data to insert: { user_id: "...", tool_id: "...", ... }
โ ุชู ุญูุธ ุงููุชุงุฆุฌ ุจูุฌุงุญุ ID: [result-id]
๐พ Save response status: 200
โ Results saved successfully with ID: [result-id]
```

---

## โ ูุดุงูู ูุญุชููุฉ ูุญููููุง:

### ุงููุดููุฉ: "ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู" ุฑุบู ุฃูู ูุณุฌู
**ุงูุญู:**
1. ุงูุชุญ Developer Tools โ Console
2. ุดูู ุงูู error message
3. ุชุฃูุฏ ูู ูุฌูุฏ `sb-[project-id]-auth-token` ูู Local Storage
4. ุฌุฑุจ Logout ุซู Login ูุฑุฉ ุฃุฎุฑู

### ุงููุดููุฉ: Redirect ูุง ูุนูู ุจุนุฏ Login
**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุฌูุฏ `?redirect=` ูู URL
2. ุดูู Console ููู redirect URL
3. ุชุฃูุฏ ูู `redirectUrl` state ูู Login page

### ุงููุดููุฉ: Navigation ูุง ูุธูุฑ ุงููุณุชุฎุฏู
**ุงูุญู:**
1. ุงูุชุญ Console ูุดูู `โ User authenticated via Supabase`
2. ุชุฃูุฏ ูู ูุฌูุฏ `userData` ูู Local Storage
3. ุฌุฑุจ Refresh ุงูุตูุญุฉ

---

## ๐ Checklist ุงูููุงุฆู:

- [ ] ุงููุณุชุฎุฏู ุงููุณุฌู ููููู ุจุฏุก ุงูุชูููู ูุจุงุดุฑุฉ
- [ ] ุงููุณุชุฎุฏู ุบูุฑ ุงููุณุฌู ูุชู ุชูุฌููู ููู Login
- [ ] Redirect ูุนูู ุจุนุฏ Login
- [ ] Navigation ูุธูุฑ ุจูุงูุงุช ุงููุณุชุฎุฏู
- [ ] Logout ูุนูู ุจุดูู ุตุญูุญ
- [ ] Session ููุชููุฉ ูุชู ุงูุชุดุงููุง
- [ ] ุงููุชุงุฆุฌ ุชูุญูุธ ุจูุฌุงุญ
- [ ] Console messages ูุงุถุญุฉ ููููุฏุฉ

---

**ููุงุญุธุฉ:** ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ุดูู Console ูู Developer Tools ููุชูุงุตูู.
